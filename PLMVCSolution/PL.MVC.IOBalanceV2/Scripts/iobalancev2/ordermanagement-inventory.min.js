var ORDERMANAGEMENTINVENTORY=function(){var n={params:null,defaultSaveValue:null,defaultEditValue:null,defaultSearchValue:null,defaultEditQtyValue:null,qtyType:"",gvHeight:180},r=function(){$("#searchbutton").hide();$("#refreshbutton").hide();$("#btnnewform").hide();$("#divList").hide();$("#new-form").show();$("#btndiscard").show()},u=function(){var r=$("#frmSave");$(".loader-mask").show();$.validator.unobtrusive.parse(r);r.validate();r.valid()?$.ajax({url:n.params.saveUrl,type:"POST",data:r.serialize(),success:function(n){$(".loader-mask").hide();n.isSuccess==!0?(t(),i(),toastr.success(n.alertMessage)):toastr.error(n.alertMessage)}}):($(".loader-mask").hide(),toastr.error("System Error: please contact your system administrator"))},f=function(){var i=$("#frmEdit");$(".loader-mask").show();$.validator.unobtrusive.parse(i);i.validate();i.valid()?($.ajax({url:n.params.updateUrl,type:"POST",data:i.serialize(),success:function(n){$(".loader-mask").hide();n.isSuccess==!0?(t(),toastr.success(n.alertMessage)):toastr.error(n.alertMessage)}}),$("#mdledit").modal("hide")):($(".loader-mask").hide(),toastr.error("System Error: please contact your system administrator"))},e=function(){var i=$("#frmEditQty"),r,u;n.qtyType=$("#frmEditQty #qtyType").data("kendoDropDownList").value();n.qtyType==""?toastr.error("Please specify the Quantity type you want to do"):($(".loader-mask").show(),$.validator.unobtrusive.parse(i),i.validate(),i.valid()?(r=i.find(":input:disabled").removeAttr("disabled"),u=i.serialize()+"&qtyType="+n.qtyType,r.attr("disabled","disabled"),$.ajax({url:n.params.updateQtyUrl,type:"POST",data:u,success:function(n){$(".loader-mask").hide();n.isSuccess==!0?(t(),toastr.success(n.alertMessage)):toastr.error(n.alertMessage)}}),$("#mdleditqty").modal("hide")):($(".loader-mask").hide(),toastr.error("System Error: please contact your system administrator")))},i=function(){$("#searchbutton").show();$("#refreshbutton").show();$("#btnnewform").show();$("#divList").show();$("#new-form").hide();$("#btndiscard").hide();$("#frmSave").deserialize(n.defaultSaveValue,!0,null);$("#frmEdit #Quantity").removeClass("disabled")},t=function(){var n=$("#gvProducts").data("kendoGrid"),t=$("#frmSearch");n.dataSource.read(t.serializeToJson());$("#mdlsearch").modal("hide")},o=function(n){return n.Quantity<=0?"<div style='color:red;'>"+n.Quantity+"<\/div>":"<div>"+n.Quantity+"<\/div>"},s=function(){$("body").on("click","#btnnewform",function(){r()});$("body").on("click","#btndiscard",function(){i()});$("body").on("click","#btnSaveform",function(){u()});$("body").on("click","#searchbutton",function(){$("#mdlsearch").modal({show:!0,backdrop:"static",keyboard:!1})});$("body").on("click","#searchdetails",function(){t()});$("body").on("click","#removefilter",function(){$("#frmSearch").deserialize(n.defaultSearchValue,!0,null)});$("body").on("click","#refreshbutton",function(){t()});$("body").on("click","#edititem",function(){$this=$(this);$("#mdledit").modal("show")});$("body").on("click","#editqtyitem",function(){$this=$(this);$("#mdleditqty").modal("show")});$("body").on("shown.bs.modal","#mdlsearch",function(){$(document).off("focusin.modal")});$("body").on("shown.bs.modal","#mdledit",function(){$(document).off("focusin.modal");$("#frmEdit #hdfProductId").val($this.data("product-id"));$("#frmEdit #ProductCode").val($this.data("product-code"));$("#frmEdit #ProductName").val($this.data("product-name"));$("#frmEdit #ProductDescription").val($this.data("product-description"));$("#frmEdit #ProductSize").val($this.data("product-size"));$("#frmEdit #CurrentNum").val($this.data("product-currentnum"));$("#frmEdit #DRNum").val($this.data("product-drnum"));$("#frmEdit #CartonNum").val($this.data("product-cartonnum"));$("#frmEdit #hdfQuantity").val($this.data("product-quantity"));$("#frmEdit #CategoryId").data("kendoDropDownList").value($this.data("category-id"));$("#frmEdit #QuantityUnitId").data("kendoDropDownList").value($this.data("quantity-unit-id"))});$("body").on("hidden.bs.modal","#mdledit",function(){$("#frmEdit").deserialize(n.defaultEditValue,!0,null)});$("body").on("click","#updatedetails",function(){f()});$("body").on("shown.bs.modal","#mdleditqty",function(){$(document).off("focusin.modal");$("#frmEditQty #hdfProductId").val($this.data("product-id"));$("#frmEditQty #OldQuantity").val($this.data("product-quantity"));$("#frmEditQty #SupplierId").data("kendoDropDownList").value($this.data("product-supplierid"));$("#frmEditQty #ProductCode").val($this.data("product-code"));$("#frmEditQty #ProductName").val($this.data("product-name"));$("#frmEditQty #ProductDescription").val($this.data("product-description"));$("#frmEditQty #ProductSize").val($this.data("product-size"));$("#frmEditQty #CurrentNum").val($this.data("product-currentnum"));$("#frmEditQty #DRNum").val($this.data("product-drnum"));$("#frmEditQty #CartonNum").val($this.data("product-cartonnum"));$("#frmEditQty #CategoryId").data("kendoDropDownList").value($this.data("category-id"));$("#frmEditQty #QuantityUnitId").data("kendoDropDownList").value($this.data("quantity-unit-id"));n.qtyType=""});$("body").on("hidden.bs.modal","#mdleditqty",function(){$("#frmEditQty").deserialize(n.defaultEditQtyValue,!0,null)});$("body").on("click","#updateqtydetails",function(){e()})},h=function(){$("#CategoryId").kendoDropDownList({filter:"contains",optionLabel:"- Select One -",dataTextField:"CategoryName",dataValueField:"CategoryId",dataSource:{transport:{read:{dataType:"json",url:n.params.categoriesUrl}}}});$("#SupplierId").kendoDropDownList({filter:"contains",optionLabel:"- Select One -",dataTextField:"SupplierCode",dataValueField:"SupplierId",dataSource:{transport:{read:{dataType:"json",url:n.params.supplierUrl}}}});$("#frmEditQty #SupplierId").kendoDropDownList({filter:"contains",optionLabel:"- Select One -",dataTextField:"SupplierCode",dataValueField:"SupplierId",dataSource:{transport:{read:{dataType:"json",url:n.params.supplierUrl}}}});$("#QuantityUnitId").kendoDropDownList({optionLabel:"- Select One -",dataTextField:"UnitName",dataValueField:"QuantityUnitID",dataSource:{transport:{read:{dataType:"json",url:n.params.quanityUnitUrl}}}});$("#frmEdit #CategoryId").kendoDropDownList({filter:"contains",optionLabel:"- Select One -",dataTextField:"CategoryName",dataValueField:"CategoryId",dataSource:{transport:{read:{dataType:"json",url:n.params.categoriesUrl}}}});$("#frmEdit #SupplierId").kendoDropDownList({filter:"contains",optionLabel:"- Select One -",dataTextField:"SupplierCode",dataValueField:"SupplierId",dataSource:{transport:{read:{dataType:"json",url:n.params.supplierUrl}}}});$("#frmEdit #QuantityUnitId").kendoDropDownList({optionLabel:"- Select One -",dataTextField:"UnitName",dataValueField:"QuantityUnitID",dataSource:{transport:{read:{dataType:"json",url:n.params.quanityUnitUrl}}}});$("#frmEditQty #CategoryId").kendoDropDownList({filter:"contains",optionLabel:"- Select One -",dataTextField:"CategoryName",dataValueField:"CategoryId",dataSource:{transport:{read:{dataType:"json",url:n.params.categoriesUrl}}}});$("#frmEditQty #qtyType").kendoDropDownList({optionLabel:"- Select One -",dataTextField:"QuantityTypeName",dataValueField:"QuantityTypeName",dataSource:{transport:{read:{dataType:"json",url:n.params.qtyTypeUrl}}}});$("#frmEditQty #QuantityUnitId").kendoDropDownList({optionLabel:"- Select One -",dataTextField:"UnitName",dataValueField:"QuantityUnitID",dataSource:{transport:{read:{dataType:"json",url:n.params.quanityUnitUrl}}}});$("#SearchCategoryId").kendoDropDownList({filter:"contains",optionLabel:"- Select All -",dataTextField:"CategoryName",dataValueField:"CategoryId",dataSource:{transport:{read:{dataType:"json",url:n.params.categoriesUrl}}}})},c=function(t){try{n.params=t||{};s();h()}catch(i){typeof console!="undefined"&&console!==null&&console.error("Error parsing inline options",ex)}n.defaultSaveValue=$("#frmSave").serialize();n.defaultEditValue=$("#frmEdit").serialize();n.defaultEditQtyValue=$("#frmEditQty").serialize();n.defaultSearchValue=$("#frmSearch").serialize();n.qtyType=""};return{initialize:c,_variables:n,determineQuantity:o}}();$(document).ready(function(){var t=window.orderOptions,n;ORDERMANAGEMENTINVENTORY.initialize(t);n=$("#gvProducts");n.kGridResizeHeight({height:ORDERMANAGEMENTINVENTORY._variables.gvHeight,willRefreshGrid:!1,isManual:!0});$(window).resize(function(){n.kGridResizeHeight({height:ORDERMANAGEMENTINVENTORY._variables.gvHeight,willRefreshGrid:!1,isManual:!0})})});
//# sourceMappingURL=ordermanagement-inventory.min.js.map
