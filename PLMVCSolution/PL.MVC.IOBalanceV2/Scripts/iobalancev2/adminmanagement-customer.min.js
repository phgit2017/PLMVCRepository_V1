var ADMINMANAGEMENTCUSTOMER=function(){var n={params:null,defaultSaveValue:null,defaultEditValue:null,defaultSearchValue:null,gvHeight:180},r=function(){$("#searchbutton").hide();$("#refreshbutton").hide();$("#btnnewform").hide();$("#divList").hide();$("#new-form").show();$("#btndiscard").show()},u=function(){var r=$("#frmSave");$(".loader-mask").show();$.validator.unobtrusive.parse(r);r.validate();r.valid()?$.ajax({url:n.params.saveUrl,type:"POST",data:r.serialize(),success:function(n){$(".loader-mask").hide();n.isSuccess==!0?(t(),i(),toastr.success(n.alertMessage)):toastr.error(n.alertMessage)}}):($(".loader-mask").hide(),toastr.error("An error occured during the process. Please check the details or the required fields."))},f=function(){var i=$("#frmEdit");$(".loader-mask").show();$.validator.unobtrusive.parse(i);i.validate();i.valid()?($.ajax({url:n.params.updateUrl,type:"POST",data:i.serialize(),success:function(n){n.isSuccess==!0?(t(),toastr.success(n.alertMessage)):toastr.error(n.alertMessage);$(".loader-mask").hide()}}),$("#mdledit").modal("hide")):($(".loader-mask").hide(),toastr.error("An error occured during the process. Please check the details or the required fields."))},i=function(){$("#searchbutton").show();$("#refreshbutton").show();$("#btnnewform").show();$("#divList").show();$("#new-form").hide();$("#btndiscard").hide();$("#frmSave").deserialize(n.defaultSaveValue,!0,null)},t=function(){var n=$("#gvCustomer").data("kendoGrid"),t=$("#frmSearch");n.dataSource.read(t.serializeToJson());$("#mdlsearch").modal("hide")},e=function(){$("body").on("click","#btnnewform",function(){r()});$("body").on("click","#btndiscard",function(){i()});$("body").on("click","#btnSaveform",function(){u()});$("body").on("click","#searchbutton",function(){$("#mdlsearch").modal({show:!0,backdrop:"static",keyboard:!1})});$("body").on("click","#searchdetails",function(){t()});$("body").on("click","#removefilter",function(){$("#frmSearch").deserialize(n.defaultSearchValue,!0,null)});$("body").on("click","#refreshbutton",function(){t()});$("body").on("click","#edititem",function(){$this=$(this);$("#mdledit").modal({show:!0,backdrop:"static",keyboard:!1})});$("body").on("shown.bs.modal","#mdledit",function(){$(document).off("focusin.modal");$("#frmEdit #hdfCustomerId").val($this.data("customer-id"));$("#frmEdit #CustomerCode").val($this.data("customer-code"));$("#frmEdit #CustomerName").val($this.data("customer-name"));$("#frmEdit #CustomerAddress").val($this.data("customer-address"));$("#frmEdit #hdfDateCreated").val($this.data("customer-datecreated"));$("#frmEdit #hdfCreatedBy").val($this.data("customer-createdby"));$("#frmEdit #hdfIsActive").val($this.data("customer-isactive"))});$("body").on("hidden.bs.modal","#mdledit",function(){$("#frmEdit").deserialize(n.defaultEditValue,!0,null)});$("body").on("click","#updatedetails",function(){f()});$("body").on("click","#updateactive",function(){var i=$(this),r={};r={CustomerId:i.data("customer-id"),CustomerCode:i.data("customer-code"),CustomerName:i.data("customer-name"),CustomerAddress:i.data("customer-address"),DateCreated:i.data("customer-datecreated"),CreatedBy:i.data("customer-createdby"),IsActive:i.data("customer-isactive")};$.alertWindow("Are you sure you want to inactive this record?",function(){$(".loader-mask").show();$.ajax({url:n.params.activateUrl,type:"POST",data:{dto:r},success:function(n){n.isSuccess==!0?(t(),toastr.success(n.alertMessage)):toastr.error(n.alertMessage);$(".loader-mask").hide()}})},function(){})})},o=function(){$("#SearchCustomerYesNo").kendoDropDownList({optionLabel:"Select All",dataTextField:"text",dataValueField:"value",dataSource:{transport:{read:{dataType:"json",url:n.params.isActiveYesNoUrl}}}})},s=function(t){try{n.params=t||{};e();o()}catch(i){typeof console!="undefined"&&console!==null&&console.error("Error parsing inline options",ex)}n.defaultSaveValue=$("#frmSave").serialize();n.defaultEditValue=$("#frmEdit").serialize();n.defaultSearchValue=$("#frmSearch").serialize()};return{initialize:s,_variables:n}}();$(document).ready(function(){var t=window.adminOptions,n;ADMINMANAGEMENTCUSTOMER.initialize(t);n=$("#gvCustomer");n.kGridResizeHeight({height:ADMINMANAGEMENTCUSTOMER._variables.gvHeight,willRefreshGrid:!1,isManual:!0});$(window).resize(function(){n.kGridResizeHeight({height:ADMINMANAGEMENTCUSTOMER._variables.gvHeight,willRefreshGrid:!1,isManual:!0})})});
//# sourceMappingURL=adminmanagement-customer.min.js.map
