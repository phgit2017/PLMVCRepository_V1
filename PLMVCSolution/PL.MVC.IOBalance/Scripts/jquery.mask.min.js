(function(n){typeof define=="function"&&define.amd?define(["jquery"],n):n(window.jQuery||window.Zepto)})(function(n){"use strict";var u=function(t,i,r){var f=this,e,o,u;t=n(t);i=typeof i=="function"?i(t.val(),undefined,t,r):i;u={getCaret:function(){try{var n,i=0,f=t.get(0),u=document.selection,r=f.selectionStart;return u&&!~navigator.appVersion.indexOf("MSIE 10")?(n=u.createRange(),n.moveStart("character",t.is("input")?-t.val().length:-t.text().length),i=n.text.length):(r||r==="0")&&(i=r),i}catch(e){}},setCaret:function(n){try{if(t.is(":focus")){var i,r=t.get(0);r.setSelectionRange?r.setSelectionRange(n,n):r.createTextRange&&(i=r.createTextRange(),i.collapse(!0),i.moveEnd("character",n),i.moveStart("character",n),i.select())}}catch(u){}},events:function(){t.on("keydown.mask",function(){e=u.val()}).on("keyup.mask",u.behaviour).on("paste.mask drop.mask",function(){setTimeout(function(){t.keydown().keyup()},100)}).on("change.mask",function(){t.data("changed",!0)}).on("blur.mask",function(){e===t.val()||t.data("changed")||t.trigger("change");t.data("changed",!1)}).on("focusout.mask",function(){r.clearIfNotMatch&&!o.test(u.val())&&u.val("")})},getRegexMask:function(){for(var u=[],r,e,h,s,n,o,t=0;t<i.length;t++)r=f.translation[i[t]],r?(e=r.pattern.toString().replace(/.{1}$|^.{1}/g,""),h=r.optional,s=r.recursive,s?(u.push(i[t]),n={digit:i[t],pattern:e}):u.push(!h&&!s?e:e+"?")):u.push(i[t].replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&"));return o=u.join(""),n&&(o=o.replace(new RegExp("("+n.digit+"(.*"+n.digit+")?)"),"($1)?").replace(new RegExp(n.digit,"g"),n.pattern)),new RegExp(o)},destroyEvents:function(){t.off(["keydown","keyup","paste","drop","change","blur","focusout","DOMNodeInserted",""].join(".mask ")).removeData("changeCalled")},val:function(n){var i=t.is("input");return arguments.length>0?i?t.val(n):t.text(n):i?t.val():t.text()},getMCharsBeforeCount:function(n,t){for(var u=0,r=0,e=i.length;r<e&&r<n;r++)f.translation[i.charAt(r)]||(n=t?n+1:n,u++);return u},caretPos:function(n,t,r,e){var o=f.translation[i.charAt(Math.min(n-1,i.length-1))];return o?Math.min(n+r-t-e,r):u.caretPos(n+1,t,r,e)},behaviour:function(t){var i;if(t=t||window.event,i=t.keyCode||t.which,n.inArray(i,f.byPassKeys)===-1){var r=u.getCaret(),s=u.val(),e=s.length,c=r<e,o=u.getMasked(),h=o.length,l=u.getMCharsBeforeCount(h-1)-u.getMCharsBeforeCount(e-1);return o!==s&&u.val(o),!c||i===65&&t.ctrlKey||(i===8||i===46||(r=u.caretPos(r,e,h,l)),u.setCaret(r)),u.callbacks(t)}},getMasked:function(n){var h=[],d=u.val(),t=0,c=i.length,o=0,v=d.length,e=1,y="push",l=-1,s,p,k;for(r.reverse?(y="unshift",e=-1,s=0,t=c-1,o=v-1,p=function(){return t>-1&&o>-1}):(s=c-1,p=function(){return t<c&&o<v});p();){var w=i.charAt(t),b=d.charAt(o),a=f.translation[w];a?(b.match(a.pattern)?(h[y](b),a.recursive&&(l===-1?l=t:t===s&&(t=l-e),s===l&&(t-=e)),t+=e):a.optional&&(t+=e,o-=e),o+=e):(n||h[y](w),b===w&&(o+=e),t+=e)}return k=i.charAt(s),c!==v+1||f.translation[k]||h.push(k),h.join("")},callbacks:function(n){var f=u.val(),o=f!==e;if(o===!0&&typeof r.onChange=="function")r.onChange(f,n,t,r);if(o===!0&&typeof r.onKeyPress=="function")r.onKeyPress(f,n,t,r);if(typeof r.onComplete=="function"&&f.length===i.length)r.onComplete(f,n,t,r)}};f.mask=i;f.options=r;f.remove=function(){var n;return u.destroyEvents(),u.val(f.getCleanVal()).removeAttr("maxlength"),n=u.getCaret(),u.setCaret(n-u.getMCharsBeforeCount(n)),t};f.getCleanVal=function(){return u.getMasked(!0)};f.init=function(){r=r||{};f.byPassKeys=[9,16,17,18,36,37,38,39,40,91];f.translation={"0":{pattern:/\d/},"9":{pattern:/\d/,optional:!0},"#":{pattern:/\d/,recursive:!0},A:{pattern:/[a-zA-Z0-9]/},S:{pattern:/[a-zA-Z]/}};f.translation=n.extend({},f.translation,r.translation);f=n.extend(!0,{},f,r);o=u.getRegexMask();r.maxlength!==!1&&t.attr("maxlength",i.length);r.placeholder&&t.attr("placeholder",r.placeholder);t.attr("autocomplete","off");u.destroyEvents();u.events();var e=u.getCaret();u.val(u.getMasked());u.setCaret(e+u.getMCharsBeforeCount(e,!0))}()},t={},i="DOMNodeInserted.mask",r=function(){var t=n(this),i={},r="data-mask-";t.attr(r+"reverse")&&(i.reverse=!0);t.attr(r+"maxlength")==="false"&&(i.maxlength=!1);t.attr(r+"clearifnotmatch")&&(i.clearIfNotMatch=!0);t.mask(t.attr("data-mask"),i)};n.fn.mask=function(r,f){var e=this.selector,o=function(){var t=n(this).data("mask"),i=JSON.stringify;if(typeof t!="object"||i(t.options)!==i(f)||t.mask!==r)return n(this).data("mask",new u(this,r,f))};this.each(o);e&&!t[e]&&(t[e]=!0,setTimeout(function(){n(document).on(i,e,o)},500))};n.fn.unmask=function(){try{return this.each(function(){n(this).data("mask").remove().removeData("mask")})}catch(t){}};n.fn.cleanVal=function(){return this.data("mask").getCleanVal()};n("*[data-mask]").each(r);n(document).on(i,"*[data-mask]",r)});
//# sourceMappingURL=jquery.mask.min.js.map
