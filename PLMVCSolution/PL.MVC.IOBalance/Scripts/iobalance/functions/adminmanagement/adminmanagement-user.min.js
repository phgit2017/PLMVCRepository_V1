var ADMINMANAGEMENTUSER=function(){var n={params:null,gvUserHeight:200,loaderMsg:"Please wait while we process your request",defaultValue:null,defaultEditValue:null,defaultSearchValue:null},r=function(n){$("body").showLoader({type:"page",message:n})},t=function(){$("body").hideLoader()},f=function(){$("body").on("click","#btnnewform",function(){o()});$("body").on("click","#searchbutton",function(){$("#mdlsearchuser").modal("show")});$("body").on("click","#editbutton",function(){var n=$(this);a(n)});$("body").on("click","#updatedetails",function(){v()});$("body").on("click","#updateactive",function(){var n=$(this);$.alertWindow("Are you sure you want to inactive this record?",function(){l(n)},function(){})});$("body").on("click","#refreshbutton",function(){s()});$("body").on("click","#btndiscard",function(){u()});$("body").on("click","#removefilter",function(){$("#frmSearchUser").deserialize(n.defaultSearchValue,!0,null)});$("body").on("click","#searchdetails",function(){i()});$("body").on("click","#savedetails",function(){c()});$("#mdledituser").on("hidden.bs.modal",function(){$("#frmUpdateUser").deserialize(n.defaultEditValue,!0,null)})},e=function(){$("#UserTypeId").kendoDropDownList({optionLabel:"Please Select",dataTextField:"UserTypeName",dataValueField:"UserTypeID",dataSource:{transport:{read:{dataType:"json",url:n.params.userTypeUrl}}}});$("#BranchID").kendoDropDownList({optionLabel:"Please Select",dataTextField:"BranchName",dataValueField:"BranchId",dataSource:{transport:{read:{dataType:"json",url:n.params.getBranchUrl}}}});$("#EditUserTypeId").kendoDropDownList({optionLabel:"Please Select",dataTextField:"UserTypeName",dataValueField:"UserTypeID",dataSource:{transport:{read:{dataType:"json",url:n.params.userTypeUrl}}}});$("#EditBranchID").kendoDropDownList({optionLabel:"Please Select",dataTextField:"BranchName",dataValueField:"BranchId",dataSource:{transport:{read:{dataType:"json",url:n.params.getBranchUrl}}}});$("#SearchUserTypeId").kendoDropDownList({optionLabel:"Select All",dataTextField:"UserTypeName",dataValueField:"UserTypeID",dataSource:{transport:{read:{dataType:"json",url:n.params.userTypeUrl}}}});$("#SearchBranchID").kendoDropDownList({optionLabel:"Select All",dataTextField:"BranchName",dataValueField:"BranchId",dataSource:{transport:{read:{dataType:"json",url:n.params.getBranchUrl}}}});$("#SearchUserYesNo").kendoDropDownList({optionLabel:"Select All",dataTextField:"text",dataValueField:"value",dataSource:{transport:{read:{dataType:"json",url:n.params.isActiveYesNoUrl}}}})},o=function(){$("#user-new-form").show();$("#divUser").hide();$("#searchbutton").hide();$("#refreshbutton").hide();$("#btnnewform").hide();$("#btndiscard").show()},i=function(){var i=$("#gvUser").data("kendoGrid"),u=$("#frmSearchUser");r(n.loaderMsg);i.dataSource.read(u.serializeToJson());t();$("#mdlsearchuser").modal("hide");INFRA.doRemoveOpenedModal()},s=function(){i()},u=function(){$("#user-new-form").hide();$("#divUser").show();$("#searchbutton").show();$("#refreshbutton").show();$("#btnnewform").show();$("#btndiscard").hide();$("#frmUser").deserialize(n.defaultValue,!0,null)},h=function(){var t=$("#gvUser");t.kGridResizeHeight({height:n.gvUserHeight,willRefreshGrid:!1,isManual:!0})},c=function(){var e=$("#frmUser"),o=$("#frmUser #UserTypeId"),s=$("#frmUser #BranchID"),f=!0,h=$("#frmUser #hdfUserTypeId");r(n.loaderMsg);$.validator.unobtrusive.parse(e);e.validate();e.valid()?(INFRA.IsNullOrEmpty(o.val())?(f=!1,$('#frmUser [data-valmsg-for="UserTypeID"]').html("<br/>User Type field is a required field").removeClass("field-validation-valid").addClass("error")):(f=!0,$('#frmUser [data-valmsg-for="UserTypeID"]').html("").removeClass("error")),INFRA.ConvertToInteger(o.val())===2&&(INFRA.IsNullOrEmpty(s.val())?(f=!1,$('#frmUser [data-valmsg-for="BranchId"]').html("<br/>Branch field is a required field").removeClass("field-validation-valid").addClass("error")):(f=!0,$('#frmUser [data-valmsg-for="BranchId"]').html("").removeClass("error"))),INFRA.ConvertToBoolean(f)?$.ajax({url:n.params.saveUserDetailsUrl,type:"POST",data:e.serialize(),success:function(n){t();$("#divResultContainer").show().html(n.alertMessage);INFRA.ConvertToBoolean(n.isSuccess)&&(i(),u())}}):t()):t()},l=function(t){var r=t,u,f,e,o;u=r.data("user-id");f=r.data("user-type-id");e=r.data("user-branch-id");o=r.data("user-name");$.ajax({url:n.params.updateIsActiveDetailsUrl,type:"POST",data:{userId:u,branchId:e,userName:o,userTypeId:f},success:function(n){$("#divResultContainer").show().html(n.alertMessage);INFRA.ConvertToBoolean(n.isSuccess)&&i()}})},a=function(n){var t=n;$("#frmUpdateUser #UserName").val(t.data("user-name"));$("#frmUpdateUser #hdfUserId").val(t.data("user-id"));$("#frmUpdateUser #EditUserTypeId").data("kendoDropDownList").value(t.data("user-type-id"));$("#frmUpdateUser #EditBranchID").data("kendoDropDownList").value(t.data("user-branch-id"));$("#mdledituser").modal("show")},v=function(){var f=$("#frmUpdateUser"),e=$("#frmUpdateUser #EditUserTypeId"),o=$("#frmUpdateUser #EditBranchID"),u=!0;r(n.loaderMsg);$.validator.unobtrusive.parse(f);f.validate();f.valid()?(INFRA.IsNullOrEmpty(e.val())?(u=!1,$('#frmUpdateUser [data-valmsg-for="UserTypeID"]').html("<br/>User Type field is a required field").removeClass("field-validation-valid").addClass("error")):(u=!0,$('#frmUpdateUser [data-valmsg-for="UserTypeID"]').html("").removeClass("error")),INFRA.ConvertToInteger(e.val())===2&&(INFRA.IsNullOrEmpty(o.val())?(u=!1,$('#frmUpdateUser [data-valmsg-for="BranchId"]').html("<br/>Branch field is a required field").removeClass("field-validation-valid").addClass("error")):(u=!0,$('#frmUpdateUser [data-valmsg-for="BranchId"]').html("").removeClass("error"))),INFRA.ConvertToBoolean(u)?$.ajax({url:n.params.updateUserDetailsUrl,type:"POST",data:f.serialize(),success:function(n){t();$("#divResultContainer").show().html(n.alertMessage);INFRA.ConvertToBoolean(n.isSuccess)&&(i(),$("#mdledituser").modal("hide"),INFRA.doRemoveOpenedModal())}}):t()):t()},y=function(t){try{n.params=t||{};f();e();h();INFRA.doRemoveOpenedModal()}catch(i){typeof console!="undefined"&&console!==null&&console.error("Error parsing inline options",ex)}n.defaultValue=$("#frmUser").serialize();n.defaultEditValue=$("#frmUpdateUser").serialize();n.defaultSearchValue=$("#frmSearchUser").serialize()};return{initialize:y,_variables:n}}();$(document).ready(function(){var n=window.userOptions;ADMINMANAGEMENTUSER.initialize(n);$(window).resize(function(){$("#gvUser").kGridResizeHeight({height:ADMINMANAGEMENTUSER._variables.gvUserHeight,willRefreshGrid:!1,isManual:!0})})});
//# sourceMappingURL=adminmanagement-user.min.js.map
