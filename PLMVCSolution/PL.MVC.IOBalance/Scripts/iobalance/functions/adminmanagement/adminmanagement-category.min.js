var ADMINMANAGEMENTCATEGORY=function(){var n={params:null,defaultModalUpdateValue:null,gvCategoryHeight:200,loaderMsg:"Please wait while we process your request",defaultValue:null,defaultEditValue:null,defaultSearchValue:null},r=function(n){$("body").showLoader({type:"page",message:n})},t=function(){$("body").hideLoader()},f=function(){var t=$("#divCategory");$frm=$("#frmSearchCategory");$("#divCategory").kendoGrid({dataSource:{type:"aspnetmvc-ajax",transport:{read:n.params.getKendoUrl,datatype:"json",data:$frm.serialize()},pageSize:50,serverPaging:!0,serverSorting:!0,serverFiltering:!0,schema:{total:function(n){return n.Total},data:function(n){return n.Data}}},sortable:!0,filterable:!1,pageable:!0,scrollable:!0,groupable:!1,columnMenu:{messages:{filter:"Apply filter"}},columns:[{field:"",title:"Action",width:300,locked:!0,template:function(n){return e(n)},headerAttributes:{"class":"bos-grid-text-center"},attributes:{"class":"bos-grid-text-center"}},{field:"CategoryCode",title:"Category Code",width:300,locked:!1,sortable:!0,headerAttributes:{"class":"bos-grid-text-center"},attributes:{"class":"bos-grid-text-center"}},{field:"CategoryName",title:"Category Name",width:300,locked:!1,headerAttributes:{"class":"bos-grid-text-center"},attributes:{"class":"bos-grid-text-center"}},{field:"IsActive",title:"Active?",width:210,locked:!1,headerAttributes:{"class":"bos-grid-text-center"},attributes:{"class":"bos-grid-text-center"}}]});t.kGridResizeHeight({height:n.gvCategoryHeight,willRefreshGrid:!1,isManual:!0})},e=function(n){var t,i;return t="<a href='javascript:void(0)' type='button' class='selected' data-button-type='actionbuttons' data-action-type='editbutton' data-category-id='"+n.CategoryID+"' data-category-code='"+n.CategoryCode+"' data-category-name='"+n.CategoryName+"'> Edit Details<\/a>",i="<a href='javascript:void(0)' type='button' class='selected' data-button-type='actionbuttons' data-action-type='deletebutton' data-category-id='"+n.CategoryID+"' data-category-code='"+n.CategoryCode+"' data-category-name='"+n.CategoryName+"' > Deactivate/Activate <\/a>",t+" | "+i},o=function(){$("#frmSearchCategory #isActive").kendoDropDownList({dataTextField:"text",dataValueField:"value",optionLabel:"- Please select -",dataSource:[{text:"True",value:"true"},{text:"False",value:"false"}],index:0})},s=function(f){var o=$("#frmCategory").serialize(),s=f.data("url"),e=$("#frmCategory");r(n.params.loaderMsg);$.validator.unobtrusive.parse(e);e.validate();e.valid()?$.ajax({url:s,type:"POST",data:o,success:function(n){t();$("#divResultContainer").show().html(n.alertMessage);INFRA.ConvertToBoolean(n.isSuccess)&&(i(),u())}}):t()},h=function(u){var e=$("#frmUpdateCategory").serialize(),o=u.data("url"),f=$("#frmUpdateCategory");r(n.params.loaderMsg);$.validator.unobtrusive.parse(f);f.validate();f.valid()?$.ajax({url:o,type:"POST",data:e,success:function(n){t();$("#divResultContainer").show().html(n.alertMessage);INFRA.ConvertToBoolean(n.isSuccess)&&(i(),$("#mdleditcategory").modal("hide"),INFRA.doRemoveOpenedModal())}}):t()},i=function(){var i=$("#divCategory").data("kendoGrid"),u=$("#frmSearchCategory");r(n.loaderMsg);i.dataSource.read(u.serializeToJson());t();$("#mdlsearchcategory").modal("hide");INFRA.doRemoveOpenedModal()},c=function(){i()},l=function(u){var f=n.params.updateActiveItemUrl,e=u.data("category-id"),o=u.data("category-code"),s=u.data("category-name");r(n.params.loaderMsg);$.ajax({url:f,type:"POST",data:{categoryId:e,categoryCode:o,categoryName:s},success:function(n){$("#divResultContainer").show().html(n.alertMessage);INFRA.ConvertToBoolean(n.isSuccess)?(i(),t()):t()}})},a=function(){$("#category-new-form").show();$("#divCategory").hide();$("#searchbutton").hide();$("#refreshbutton").hide();$("#btnnewform").hide();$("#btndiscard").show()},u=function(){$("#category-new-form").hide();$("#divCategory").show();$("#searchbutton").show();$("#refreshbutton").show();$("#btnnewform").show();$("#btndiscard").hide();$("#frmCategory").deserialize(n.defaultValue,!0,null)},v=function(t){try{n.params=t||{};f();y();p();n.defaultModalUpdateValue=$("#frmUpdateCategory").serialize();INFRA.doRemoveOpenedModal();o()}catch(i){typeof console!="undefined"&&console!==null&&console.error("Error parsing inline options",i)}n.defaultValue=$("#frmCategory").serialize();n.defaultEditValue=$("#frmUpdateCategory").serialize();n.defaultSearchValue=$("#frmSearchCategory").serialize()},y=function(){$("body").on("click","#savedetails",function(){var n=$(this);s(n)});$("body").on("click","#updatedetails",function(){var n=$(this);h(n)});$("body").on("click","#searchdetails",function(){var n=$(this);i(n)});$("body").on("click","#searchbutton",function(){var n=$(this);$("#mdlsearchcategory").modal("show")});$("body").on("click","#refreshbutton",function(){c()});$("body").on("click",'[data-action-type="editbutton"]',function(){var n=$(this);$('[data-action-type="editbutton"]').removeClass("selected");n.addClass("selected");$("#mdleditcategory").modal("show")});$("body").on("click",'[data-action-type="deletebutton"]',function(){var t=$(this),n;$('[data-action-type="deletebutton"]').removeClass("selected");t.addClass("selected");n=$('[data-action-type="deletebutton"].selected');$.alertWindow("Are you sure you want to update this record?",function(){l(n)},function(){})});$("body").on("show.bs.modal","#mdleditcategory",function(){var n=$('[data-action-type="editbutton"].selected');$("#frmUpdateCategory #hdfCategoryId").val(n.data("category-id"));$("#frmUpdateCategory #CategoryCode").val(n.data("category-code"));$("#frmUpdateCategory #CategoryName").val(n.data("category-name"))});$("#mdleditcategory").on("hidden.bs.modal",function(){$("#frmUpdateCategory").deserialize(n.defaultEditValue,!0,null)});$("body").on("click","#btnnewform",function(){a()});$("body").on("click","#btndiscard",function(){u()});$("body").on("click","#removefilter",function(){$("#frmSearchCategory").deserialize(n.defaultSearchValue,!0,null)})},p=function(){$("#SearchCategoryYesNo").kendoDropDownList({optionLabel:"Select All",dataTextField:"text",dataValueField:"value",dataSource:{transport:{read:{dataType:"json",url:n.params.isActiveYesNoUrl}}}})};return{initialize:v,_variables:n}}();$(document).ready(function(){var n=window.categoryOptions;ADMINMANAGEMENTCATEGORY.initialize(n);$(window).resize(function(){$("#gvCategory").kGridResizeHeight({height:ADMINMANAGEMENTCATEGORY._variables.gvCategoryHeight,willRefreshGrid:!1,isManual:!0})})});
//# sourceMappingURL=adminmanagement-category.min.js.map
