var ADMINMANAGEMENTSUPPLIER=function(){var n={params:null,defaultModalUpdateValue:null,gvSupplierHeight:200,loaderMsg:"Please wait while we process your request",defaultValue:null,defaultEditValue:null,defaultSearchValue:null},r=function(n){$("body").showLoader({type:"page",message:n})},t=function(){$("body").hideLoader()},f=function(){var t=$("#divSupplier");$frm=$("#frmSearchSupplier");$("#divSupplier").kendoGrid({dataSource:{type:"aspnetmvc-ajax",transport:{read:n.params.getKendoUrl,datatype:"json",data:$frm.serialize()},pageSize:50,serverPaging:!0,serverSorting:!0,serverFiltering:!0,schema:{total:function(n){return n.Total},data:function(n){return n.Data}}},sortable:!0,filterable:!1,pageable:!0,scrollable:!0,groupable:!1,columnMenu:{messages:{filter:"Apply filter"}},columns:[{field:"",title:"Action",width:300,locked:!0,template:function(n){return e(n)},headerAttributes:{"class":"bos-grid-text-center"},attributes:{"class":"bos-grid-text-center"}},{field:"SupplierCode",title:"Supplier Code",width:300,locked:!1,sortable:!0,headerAttributes:{"class":"bos-grid-text-center"},attributes:{"class":"bos-grid-text-center"}},{field:"SupplierName",title:"Supplier Name",width:300,locked:!1,headerAttributes:{"class":"bos-grid-text-center"},attributes:{"class":"bos-grid-text-center"}},{field:"IsActive",title:"Active?",width:210,locked:!1,headerAttributes:{"class":"bos-grid-text-center"},attributes:{"class":"bos-grid-text-center"}}]});t.kGridResizeHeight({height:n.gvSupplierHeight,willRefreshGrid:!0})},e=function(n){var t,i;return t="<a href='javascript:void(0)' type='button' class='selected' data-button-type='actionbuttons' data-action-type='editbutton' data-supplier-id='"+n.SupplierID+"' data-supplier-code='"+n.SupplierCode+"' data-supplier-name='"+n.SupplierName+"'> Edit Details<\/a>",i="<a href='javascript:void(0)' type='button' class='selected' data-button-type='actionbuttons' data-action-type='deletebutton' data-supplier-id='"+n.SupplierID+"' data-supplier-name='"+n.SupplierName+"' data-supplier-code='"+n.SupplierCode+"'> Deactivate/Activate <\/a>",t+" | "+i},o=function(f){var o=$("#frmSupplier").serialize(),s=f.data("url"),e=$("#frmSupplier");r(n.loaderMsg.loaderMsg);$.validator.unobtrusive.parse(e);e.validate();e.valid()?$.ajax({url:s,type:"POST",data:o,success:function(n){t();$("#divResultContainer").show().html(n.alertMessage);INFRA.ConvertToBoolean(n.isSuccess)&&i();u()}}):t()},s=function(u){var e=$("#frmUpdateSupplier").serialize(),o=u.data("url"),f=$("#frmUpdateSupplier");r(n.loaderMsg.loaderMsg);$.validator.unobtrusive.parse(f);f.validate();f.valid()?$.ajax({url:o,type:"POST",data:e,success:function(n){t();$("#divResultContainer").show().html(n.alertMessage);INFRA.ConvertToBoolean(n.isSuccess)&&(i(),$("#mdleditsupplier").modal("hide"),INFRA.doRemoveOpenedModal())}}):t()},h=function(u){var f=n.params.updateActiveItemUrl,e=u.data("supplier-id"),o=u.data("supplier-code"),s=u.data("supplier-name");r(n.loaderMsg.loaderMsg);$.ajax({url:f,type:"POST",data:{supplierId:e,supplierCode:o,supplierName:s},success:function(n){t();$("#divResultContainer").show().html(n.alertMessage);INFRA.ConvertToBoolean(n.isSuccess)&&i()}})},c=function(){i()},i=function(){var i=$("#divSupplier").data("kendoGrid"),u=$("#frmSearchSupplier");r(n.loaderMsg);i.dataSource.read(u.serializeToJson());t();$("#mdlsearchsupplier").modal("hide");INFRA.doRemoveOpenedModal()},l=function(t){try{n.params=t||{};f();a();v();INFRA.doRemoveOpenedModal()}catch(i){typeof console!="undefined"&&console!==null&&console.error("Error parsing inline options",i)}n.defaultValue=$("#frmSupplier").serialize();n.defaultEditValue=$("#frmUpdateSupplier").serialize();n.defaultSearchValue=$("#frmSearchSupplier").serialize()},a=function(){$("body").on("click","#savedetails",function(){var n=$(this);o(n)});$("body").on("click","#updatedetails",function(){var n=$(this);s(n)});$("body").on("click","#searchdetails",function(){i()});$("body").on("click","#searchbutton",function(){$("#mdlsearchsupplier").modal("show")});$("body").on("click","#refreshbutton",function(){c()});$("body").on("click",'[data-action-type="editbutton"]',function(){var n=$(this);$('[data-action-type="editbutton"]').removeClass("selected");n.addClass("selected");$("#mdleditsupplier").modal("show")});$("body").on("click",'[data-action-type="deletebutton"]',function(){var t=$(this),n;$('[data-action-type="deletebutton"]').removeClass("selected");t.addClass("selected");n=$('[data-action-type="deletebutton"].selected');$.alertWindow("Are you sure you want to update this record?",function(){h(n)},function(){})});$("body").on("show.bs.modal","#mdleditsupplier",function(){var n=$('[data-action-type="editbutton"].selected');$("#frmUpdateSupplier #hdfSupplierId").val(n.data("supplier-id"));$("#frmUpdateSupplier #SupplierCode").val(n.data("supplier-code"));$("#frmUpdateSupplier #SupplierName").val(n.data("supplier-name"))});$("#mdleditsupplier").on("hidden.bs.modal",function(){$("#frmUpdateSupplier").deserialize(n.defaultEditValue,!0,null)});$("body").on("click","#btnnewform",function(){y()});$("body").on("click","#btndiscard",function(){u()});$("body").on("click","#removefilter",function(){$("#frmSearchSupplier").deserialize(n.defaultSearchValue,!0,null)})},v=function(){$("#SearchSupplierYesNo").kendoDropDownList({optionLabel:"Select All",dataTextField:"text",dataValueField:"value",dataSource:{transport:{read:{dataType:"json",url:n.params.isActiveYesNoUrl}}}})},y=function(){$("#supplier-new-form").show();$("#divSupplier").hide();$("#searchbutton").hide();$("#refreshbutton").hide();$("#btnnewform").hide();$("#btndiscard").show()},u=function(){$("#supplier-new-form").hide();$("#divSupplier").show();$("#searchbutton").show();$("#refreshbutton").show();$("#btnnewform").show();$("#btndiscard").hide();$("#frmSupplier").deserialize(n.defaultValue,!0,null)};return{initialize:l}}();$(document).ready(function(){var n=window.supplierOptions;ADMINMANAGEMENTSUPPLIER.initialize(n);$(window).resize(function(){$("#gvSupplier").kGridResizeHeight({height:ADMINMANAGEMENTSUPPLIER._variables.gvSupplierHeight,willRefreshGrid:!1,isManual:!0})})});
//# sourceMappingURL=adminmanagement-supplier.min.js.map
