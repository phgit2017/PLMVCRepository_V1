@using PL.Business.Dto.IOBalance;
@using PL.MVC.IOBalance.Areas.AdminManagement.Models;

@{
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<div>
    <div class="pull-left">
        <span class="text-warning"><strong>Maintenance - Discounts</strong></span>
    </div>

    <div class="pull-right">
        <button id="searchbutton" class="btn btn-sm btn-default"
                data-action-type="searchbutton"
                data-toggle="modal"
                data-target="#mdlsearchdiscount">
            <i class="glyphicon glyphicon-search"></i> Search
        </button>

        <button id="refreshbutton" class="btn btn-sm btn-default"
                data-action-type="refreshbutton"
                data-url="">
            <i class="glyphicon glyphicon-refresh"></i> Refresh
        </button>

        <button id="btndiscard" class="btn btn-default btn-sm" style="display:none;">
            Discard
        </button>

        <button id="btnnewform" class="btn btn-sm btn-success">
            <i class="glyphicon glyphicon-plus-sign"></i> New Discounts
        </button>
    </div>
    <br />
    <hr />
    @Html.Partial(IOBALANCEMVC.AdminManagement.Discount.Views._ModalEditDiscount, new DiscountDto())
    
    <div id="discount-new-form" style="display:none;">
        @Html.Partial(IOBALANCEMVC.AdminManagement.Discount.Views._NewDiscount, new DiscountDto())
    </div>

    <div id="divDiscount">
        @Html.Partial(IOBALANCEMVC.AdminManagement.Discount.Views._ListDiscount)
    </div>
</div>

<div id="divResultContainer" style="display:none"></div>

@section scripts{
    <script type="text/javascript">
        window.discountOptions = {
            saveUrl: "@Url.Action(IOBALANCEMVC.AdminManagement.Discount.SaveDiscount())",
            updateUrl: "@Url.Action(IOBALANCEMVC.AdminManagement.Discount.UpdateDiscount())",
            deleteUrl: "@Url.Action(IOBALANCEMVC.AdminManagement.Discount.DeleteDiscount())",
            branchGetUrl: "@Url.Action(IOBALANCEMVC.Common.GetBranch())"
        };
    </script>
    <script type="text/javascript" src="@IOBALANCELINKS.Scripts.infrastructure.jquery_pl_kendo_resize_height_js"></script>
    <script type="text/javascript" src="@IOBALANCELINKS.Scripts.iobalance.functions.adminmanagement.adminmanagement_discount_js"></script>
    
    @Scripts.Render("~/bundles/jqueryval")
    <script type="text/javascript" src="@IOBALANCELINKS.Scripts.infrastructure.jquery_deserialize_js"></script>
}

@section modals{
    
    @Html.Partial(IOBALANCEMVC.AdminManagement.Discount.Views._ModalSearchDiscount, new DiscountSearchModel())
}

<link rel="stylesheet" href="@IOBALANCELINKS.Content.kendo.kendo_common_material_min_css" />
<link rel="stylesheet" href="@IOBALANCELINKS.Content.kendo.kendo_material_min_css" />